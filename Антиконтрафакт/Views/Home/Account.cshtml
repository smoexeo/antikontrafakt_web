@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Личный кабинет</title>
</head>
<body>
    <header>
        <nav class="navbar navbar-light bg-light justify-content-between fixed-top">
            <a href="/Home/Index" class="navbar-brand" style="color:#F3533B;">АНТИКонтрафакт</a>

            <form>
                @*<span style="font-size:20px;">*@
                    @{try
                        { @ViewBag.UserName;
                        }
                        catch { }}
                @*</span>*@
                <a href="/Home/Account">
                    <img src="~/HTML-Страницы/merge/person-circle.svg">
                </a>
            </form>
        </nav>
    </header>

    <h1 style="padding-top: 90px;">ЛИЧНЫЙ КАБИНЕТ</h1>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xl-6 blue">
                <table width="100%">
                    <tbody style="text-align: center;">
                        <tr style="font-size: 10vmin;height: 140px;">
                            <!--Здесь вставляются актуальные данные пользователя-->
                            <td>@ViewBag.ShowInfo</td>
                            <td>@ViewBag.NotShowInfo</td>
                            <td>@ViewBag.SendInfo</td>
                            <td>@ViewBag.DraftInfo</td>
                        </tr>
                        <tr style="height: 20px;">
                            <td>заявлений<p>рассмотренно</p></td>
                            <td>заявлений<p>на рассмотрении</p></td>
                            <td>заявлений<p>архивировано</p></td>
                            <td>черновиков<p></p></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-xl-6 red">
                <h2 align="center">

                    @{
                        if (@ViewBag.TypeUser == AntiContr_Lib.TypeUser.User)
                        {
                            <span>Пожаловаться на контрафакт</span>
                            <a href="/Home/RequestsPage" style="margin: 10px;"><img src="~/HTML-Страницы/merge/next.svg" alt="next"></a>
                        }
                        else
                        {
                            <span>Выгрузить заявления</span>
                            <a href="#" style="margin: 10px;"><img src="~/HTML-Страницы/merge/next.svg" alt="next"></a>
                        }
                    }

                </h2>

            </div>
        </div>
        <div class="row">
            <div class="col-xl-6 orange">
                <fieldset class="password-fieldset">
                    <!--Проверка старого пароля и ввод нового-->
                    @using (Html.BeginForm())
                    {
                        <input type="password" class="password-field" name="oldPass" placeholder="Старый пароль..."><br>
                        <input type="password" class="password-field" name="newPass" placeholder="Новый пароль..."><br>
                        <input type="password" class="password-field" name="new2Pass" placeholder="Подтвердите пароль..."><br>
                        <button type="submit" name="submitButton" value="NewPass" class="password-field">Сохранить</button>
                        <label>@ViewBag.ErrorPass</label>
                    }
                </fieldset>
            </div>
            <div class="col-xl-6 green">
                <fieldset class="password-fieldset">
                    <!--Конец сессии-->
                    @using (Html.BeginForm())
                    {
                        <button type="submit" name="submitButton" value="Exit" class="exit-button">Сменить пользователя</button>
                    }
                </fieldset>
            </div>
        </div>
        <h1>ИСТОРИЯ ЗАЯВЛЕНИЙ</h1>

        <!--Строки с информацией из базы данных-->
        <table class="table">
            <thead>
                <tr style="color: #F3533B;">
                    <th scope="col"><h3>Номер</h3></th>
                    <th scope="col"><h3>Дата</h3></th>
                    <th scope="col"><h3>Статус</h3></th>
                    <th scope="col"></th>
                </tr>
            </thead>
            @{
                if (ViewBag.datas != null)
                {
                    foreach (AntiContr_Lib.RecordComlains item in @ViewBag.datas)
                    {
                        if (item.status == "Отправлено в Роспотребнадзор")
                        {


                            <tr class="col-md-12 green history-row">
                                <td style="vertical-align:middle;">@int.Parse(@item.id).ToString("D6")</td>
                                <td style="vertical-align:middle;">@item.date</td>
                                <td style="vertical-align:middle;">@item.status</td>
                                <td style="vertical-align:middle;"><a href="/Home/RequestsPage?id=@item.id"> Подробнее </a></td>
                            </tr>



                        }
                        if (item.status == "Черновик")
                        {


                            <tr class="col-md-12 blue history-row">
                                <td style="vertical-align:middle;">@int.Parse(@item.id).ToString("D6")</td>
                                <td style="vertical-align:middle;">@item.date</td>
                                <td style="vertical-align:middle;">@item.status</td>
                                <td style="vertical-align:middle;"><a href="/Home/RequestsPage?id=@item.id"> Подробнее </a></td>
                            </tr>



                        }
                        if (item.status == "На рассмотрении")
                        {


                            <tr class="col-md-12 orange history-row">
                                <td style="vertical-align:middle;">@int.Parse(@item.id).ToString("D6")</td>
                                <td style="vertical-align:middle;">@item.date</td>
                                <td style="vertical-align:middle;">@item.status</td>
                                <td style="vertical-align:middle;"><a href="/Home/RequestsPage?id=@item.id"> Подробнее </a></td>
                            </tr>



                        }

                        if (item.status == "Архивирована")
                        {


                            <tr class="col-md-12 red history-row">
                                <td style="vertical-align:middle;">@int.Parse(@item.id).ToString("D6")</td>
                                <td style="vertical-align:middle;">@item.date</td>
                                <td style="vertical-align:middle;">@item.status</td>
                                <td style="vertical-align:middle;"><a href="/Home/RequestsPage?id=@item.id"> Подробнее </a></td>
                            </tr>


                        }
                    }
                }
            }
        </table>
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                    <li class="page-item">
                        <a class="page-link" style="color:#F3533B;" href="/Home/Account?page=1" tabindex="-1">В начало</a>
                    </li>
                    @{
                        foreach (int item in @ViewBag.Array)
                        {
                            <li class="page-item"><a style="color:#F3533B;" class="page-link" href="/Home/Account?page=@item">@item</a></li>
                        }
                    }
                    <li class="page-item">
                        <a class="page-link" style="color:#F3533B;" href="/Home/Account?page=@ViewBag.EndPage" tabindex="-1">В конец</a>
                    </li>
                </ul>
            </nav>
    </div>
    <footer>
        <div class="container">

        </div>
    </footer>
</body>
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
</html>
